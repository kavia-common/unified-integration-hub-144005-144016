{"is_source_file": true, "format": "TypeScript", "description": "This file provides utility functions for interacting with a backend API, including URL construction, fetch wrappers, and specific endpoints for connectors and OAuth flows within a frontend application.", "external_files": ["fetch", "process.env"], "external_methods": ["fetch"], "published": ["HttpMethod", "ApiOptions", "buildUrl", "apiFetch", "apiGet", "apiPost", "ConnectorApi", "completeOAuthCallback", "searchConnector", "ConnectorSummary"], "classes": [], "methods": [{"name": "getBackendBaseUrl", "description": "Returns the backend URL from environment variable or default."}, {"name": "export function buildUrl(path: string, searchParams?: ApiOptions[\"searchParams\"]): string { buildUrl", "description": "Constructs a complete URL with query parameters based on path and search options.", "scope": "", "scopeKind": ""}, {"name": "export async function apiFetch<T = unknown>(path: string, options: ApiOptions = {}): Promise<T> / apiFetch", "description": "Performs fetch with JSON headers, error handling, and optional body serialization.", "scope": "", "scopeKind": ""}, {"name": "export async function apiGet<T = unknown>( apiGet", "description": "Helper for GET requests.", "scope": "", "scopeKind": ""}, {"name": "export async function apiPost<T = unknown, B = unknown>( apiPost", "description": "Helper for POST requests with JSON body.", "scope": "", "scopeKind": ""}, {"name": "export async function completeOAuthCallback( completeOAuthCallback", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export async function searchConnector( searchConnector", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "buildUrl", "apiFetch", "JSON.stringify", "JSON.parse", "process.env.NEXT_PUBLIC_BACKEND_URL"], "search-terms": ["API utility", "Connector", "OAuth", "buildUrl", "apiFetch", "getBackendBaseUrl", "public API methods"], "state": 2, "file_id": 12, "knowledge_revision": 148, "git_revision": "95be856ee6bfd4681bbc5f9b156096a550469c2d", "revision_history": [{"25": ""}, {"43": ""}, {"58": "629436f63a05725b08082fbee178778c90f4aced"}, {"69": "629436f63a05725b08082fbee178778c90f4aced"}, {"70": "629436f63a05725b08082fbee178778c90f4aced"}, {"75": "629436f63a05725b08082fbee178778c90f4aced"}, {"78": "2e40eac2fd81498e942786633b8efa34a1dbc472"}, {"79": "2e40eac2fd81498e942786633b8efa34a1dbc472"}, {"87": "2e40eac2fd81498e942786633b8efa34a1dbc472"}, {"113": "f7aeffbdb1ae19b6adbe89b531a70e8094698a04"}, {"138": "432785afbccec782f181b449a8309a8bfffca1d0"}, {"148": "95be856ee6bfd4681bbc5f9b156096a550469c2d"}], "ctags": [{"_type": "tag", "name": "ApiOptions", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^export interface ApiOptions {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "ConnectorApi", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^export const ConnectorApi = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "ConnectorId", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^export type ConnectorId = \"jira\" | \"confluence\";$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "ConnectorSummary", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^export interface ConnectorSummary {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "HttpMethod", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^export type HttpMethod = \"GET\" | \"POST\" | \"PUT\" | \"PATCH\" | \"DELETE\";$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "apiFetch", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^export async function apiFetch<T = unknown>(path: string, options: ApiOptions = {}): Promise<T> /", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "apiGet", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^export async function apiGet<T = unknown>($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "apiPost", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^export async function apiPost<T = unknown, B = unknown>($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  const base = getBackendBaseUrl();$/", "language": "TypeScript", "kind": "constant", "scope": "buildUrl", "scopeKind": "function"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  body?: unknown;$/", "language": "TypeScript", "kind": "property", "scope": "ApiOptions", "scopeKind": "interface"}, {"_type": "tag", "name": "buildUrl", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^export function buildUrl(path: string, searchParams?: ApiOptions[\"searchParams\"]): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  category?: string;$/", "language": "TypeScript", "kind": "property", "scope": "ConnectorSummary", "scopeKind": "interface"}, {"_type": "tag", "name": "clean", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  const clean = path.startsWith(\"\\/\") ? path : `\\/${path}`;$/", "language": "TypeScript", "kind": "constant", "scope": "buildUrl", "scopeKind": "function"}, {"_type": "tag", "name": "completeOAuthCallback", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^export async function completeOAuthCallback($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "connected", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  connected?: boolean;$/", "language": "TypeScript", "kind": "property", "scope": "ConnectorSummary", "scopeKind": "interface"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  description?: string;$/", "language": "TypeScript", "kind": "property", "scope": "ConnectorSummary", "scopeKind": "interface"}, {"_type": "tag", "name": "detail", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^    const error: Error & { status?: number; detail?: unknown } = new Error($/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^    const error: Error & { status?: number; detail?: unknown } = new Error($/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "filters", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  const { resource_type, page, per_page, filters, tenantId } = options ?? {};$/", "language": "TypeScript", "kind": "constant", "scope": "searchConnector", "scopeKind": "function"}, {"_type": "tag", "name": "finalHeaders", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  const finalHeaders: Record<string, string> = {$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "getBackendBaseUrl", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^const getBackendBaseUrl = (): string => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^    headers: finalHeaders,$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  headers?: Record<string, string>;$/", "language": "TypeScript", "kind": "property", "scope": "ApiOptions", "scopeKind": "interface"}, {"_type": "tag", "name": "icon", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  icon?: string;$/", "language": "TypeScript", "kind": "property", "scope": "ConnectorSummary", "scopeKind": "interface"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  id: ConnectorId | string;$/", "language": "TypeScript", "kind": "property", "scope": "ConnectorSummary", "scopeKind": "interface"}, {"_type": "tag", "name": "init", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  const init: RequestInit = {$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "listConnectors", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  async listConnectors(tenantId?: string | null) {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "method", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  const { method = \"GET\", headers = {}, body, tenantId, searchParams } = options;$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "method", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  method?: HttpMethod;$/", "language": "TypeScript", "kind": "property", "scope": "ApiOptions", "scopeKind": "interface"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  name: string;$/", "language": "TypeScript", "kind": "property", "scope": "ConnectorSummary", "scopeKind": "interface"}, {"_type": "tag", "name": "page", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  const { resource_type, page, per_page, filters, tenantId } = options ?? {};$/", "language": "TypeScript", "kind": "constant", "scope": "searchConnector", "scopeKind": "function"}, {"_type": "tag", "name": "per_page", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  const { resource_type, page, per_page, filters, tenantId } = options ?? {};$/", "language": "TypeScript", "kind": "constant", "scope": "searchConnector", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  const res = await fetch(url, init);$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "resource_type", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  const { resource_type, page, per_page, filters, tenantId } = options ?? {};$/", "language": "TypeScript", "kind": "constant", "scope": "searchConnector", "scopeKind": "function"}, {"_type": "tag", "name": "searchConnector", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^export async function searchConnector($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "searchParams", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  const { method = \"GET\", headers = {}, body, tenantId, searchParams } = options;$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "searchParams", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  searchParams?: Record<string, string | number | boolean | undefined | null>;$/", "language": "TypeScript", "kind": "property", "scope": "ApiOptions", "scopeKind": "interface"}, {"_type": "tag", "name": "tenantId", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  const { method = \"GET\", headers = {}, body, tenantId, searchParams } = options;$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "tenantId", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  const { resource_type, page, per_page, filters, tenantId } = options ?? {};$/", "language": "TypeScript", "kind": "constant", "scope": "searchConnector", "scopeKind": "function"}, {"_type": "tag", "name": "tenantId", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  tenantId?: string | null;$/", "language": "TypeScript", "kind": "property", "scope": "ApiOptions", "scopeKind": "interface"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  const text = await res.text();$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  const url = buildUrl(path, searchParams);$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144016/unified_connector_frontend/src/utils/api.ts", "pattern": "/^  const url = new URL(`${base}${clean}`);$/", "language": "TypeScript", "kind": "constant", "scope": "buildUrl", "scopeKind": "function"}], "hash": "f837bae85919bbc72866ecf8cc625052", "format-version": 4, "code-base-name": "unified_connector_frontend", "filename": "unified_connector_frontend/src/utils/api.ts", "fields": [{"name": "export interface ApiOptions {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export interface ConnectorSummary {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "body?: unknown;", "scope": "ApiOptions", "scopeKind": "interface", "description": "unavailable"}, {"name": "category?: string;", "scope": "ConnectorSummary", "scopeKind": "interface", "description": "unavailable"}, {"name": "connected?: boolean;", "scope": "ConnectorSummary", "scopeKind": "interface", "description": "unavailable"}, {"name": "description?: string;", "scope": "ConnectorSummary", "scopeKind": "interface", "description": "unavailable"}, {"name": "headers?: Record<string, string>;", "scope": "ApiOptions", "scopeKind": "interface", "description": "unavailable"}, {"name": "icon?: string;", "scope": "ConnectorSummary", "scopeKind": "interface", "description": "unavailable"}, {"name": "id: ConnectorId | string;", "scope": "ConnectorSummary", "scopeKind": "interface", "description": "unavailable"}, {"name": "method?: HttpMethod;", "scope": "ApiOptions", "scopeKind": "interface", "description": "unavailable"}, {"name": "name: string;", "scope": "ConnectorSummary", "scopeKind": "interface", "description": "unavailable"}, {"name": "searchParams?: Record<string, string | number | boolean | undefined | null>;", "scope": "ApiOptions", "scopeKind": "interface", "description": "unavailable"}, {"name": "tenantId?: string | null;", "scope": "ApiOptions", "scopeKind": "interface", "description": "unavailable"}]}